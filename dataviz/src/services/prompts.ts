/**
 * 数据分析提示词模板
 * 这个文件包含了用于不同类型数据分析的提示词模板
 */

/**
 * 基础数据分析提示词
 * 用于一般性的数据分析，包括基本统计、趋势和异常值检测
 */
export const basicAnalysisPrompt = `
请对以下数据进行全面分析，提供关键洞察和发现。分析应包括但不限于：
1. 数据总体情况（数据量、总值、平均值等）
2. 最大值和最小值及其对应项
3. 数据分布和趋势分析
4. 异常值检测和分析
5. 相关性分析（如果数据中有多个维度）
6. 预测和建议（基于数据趋势）

请以清晰的条目形式输出分析结果，每个发现单独一行。

数据：
{{data}}
`;

/**
 * 高级数据分析提示词
 * 用于更深入的数据分析，包括详细的统计分析、模式识别和预测
 */
export const advancedAnalysisPrompt = `
作为一位专业的数据分析师，请对以下数据集进行深入分析。

请提供以下分析：

1. 数据概览：
   - 数据点数量、维度和类型
   - 数据范围和分布特征
   - 缺失值或异常值的识别

2. 统计分析：
   - 中心趋势（均值、中位数、众数）
   - 离散程度（标准差、方差、四分位距）
   - 数据分布形态（偏度、峰度）

3. 趋势分析：
   - 时间序列模式（如果适用）
   - 增长率和变化速度
   - 周期性和季节性模式

4. 相关性和关系：
   - 变量间的相关性
   - 因果关系的可能性分析
   - 聚类和分组模式

5. 异常检测：
   - 显著偏离正常范围的数据点
   - 异常原因的可能解释
   - 异常对整体趋势的影响

6. 预测和展望：
   - 基于现有数据的未来趋势预测
   - 预测的置信区间和可能的变数
   - 决策建议和行动方向

7. 数据可视化建议：
   - 最适合展示此数据的图表类型
   - 关键见解的可视化重点

请确保分析结果具有可操作性，并以清晰、专业的语言表达。对于每个发现，请提供数据支持和逻辑推理。

数据：
{{data}}
`;

/**
 * 业务洞察提示词
 * 专注于从业务角度分析数据，提供商业决策支持
 */
export const businessInsightPrompt = `
作为一位业务分析专家，请对以下数据进行分析，并提供有价值的业务洞察。

请从以下几个方面进行分析：

1. 业务表现概览：
   - 关键业务指标的表现
   - 与目标或预期的对比
   - 整体业务健康度评估

2. 趋势和模式：
   - 业务增长或下滑趋势
   - 周期性或季节性模式
   - 异常波动及其可能原因

3. 客户/产品/区域分析：
   - 表现最佳和最差的细分领域
   - 潜在的市场机会
   - 需要关注的问题区域

4. 竞争分析（如果数据允许）：
   - 相对于行业或竞争对手的表现
   - 竞争优势和劣势

5. 风险和机会：
   - 潜在的业务风险信号
   - 增长和改进的机会
   - 资源优化的建议

6. 行动建议：
   - 基于数据的具体行动建议
   - 短期和长期策略调整
   - 需要进一步监控的指标

请确保分析结果具有实用性和可操作性，避免过于技术化的统计术语，而是使用业务语言表达见解。对于每个建议，请提供数据支持和预期效果。

数据：
{{data}}
`;

/**
 * 预测分析提示词
 * 专注于基于历史数据进行未来趋势预测
 */
export const predictionAnalysisPrompt = `
作为一位预测分析专家，请基于以下历史数据进行未来趋势预测。

请提供以下分析：

1. 历史数据分析：
   - 关键趋势和模式识别
   - 周期性和季节性因素
   - 增长率和变化速度

2. 短期预测（未来1-3个周期）：
   - 预期的数值范围
   - 可能的波动和变化点
   - 预测的置信度评估

3. 中长期预测（未来4-12个周期）：
   - 总体趋势方向
   - 潜在的转折点
   - 不确定性因素分析

4. 影响因素分析：
   - 主要驱动因素识别
   - 外部变量的潜在影响
   - 风险因素评估

5. 情景分析：
   - 最佳情况预测
   - 最可能情况预测
   - 最差情况预测

6. 预测方法说明：
   - 使用的预测模型或方法
   - 模型假设和限制
   - 预测准确性评估

7. 建议和行动计划：
   - 基于预测的决策建议
   - 风险缓解策略
   - 需要持续监控的指标

请确保预测分析既有科学依据，又具有实用价值。对于每个预测，请说明其依据和可能影响预测准确性的因素。

数据：
{{data}}
`;

/**
 * 异常检测提示词
 * 专注于识别数据中的异常值和模式
 */
export const anomalyDetectionPrompt = `
作为一位异常检测专家，请分析以下数据并识别其中的异常值和异常模式。

请提供以下分析：

1. 数据概览：
   - 数据的基本特征和分布
   - 正常值范围的确定
   - 使用的异常检测方法

2. 异常值识别：
   - 明显偏离正常范围的数据点
   - 异常值的具体位置和数值
   - 异常程度的量化（如Z分数、偏离百分比）

3. 异常模式识别：
   - 时间序列中的异常趋势
   - 周期性异常或季节性异常
   - 群体或集群异常

4. 异常原因分析：
   - 每个主要异常的可能原因
   - 内部因素vs外部因素
   - 系统性问题vs随机波动

5. 异常影响评估：
   - 异常对整体趋势和结果的影响
   - 潜在的业务或运营风险
   - 异常的严重程度分级

6. 建议行动：
   - 需要进一步调查的异常
   - 异常处理策略（修正、排除或保留）
   - 预防类似异常的措施

7. 监控建议：
   - 关键监控指标和阈值
   - 异常预警机制建议

请确保分析既有技术深度，又有实际应用价值。对于每个识别的异常，请提供充分的证据和合理的解释。

数据：
{{data}}
`;

/**
 * 相关性分析提示词
 * 专注于分析数据中变量之间的关系和相关性
 */
export const correlationAnalysisPrompt = `
作为一位相关性分析专家，请分析以下数据集中变量之间的关系和相关性。

请提供以下分析：

1. 数据变量概览：
   - 识别主要变量及其类型
   - 各变量的基本统计特征
   - 变量间的初步关系观察

2. 相关性分析：
   - 变量对之间的相关系数
   - 相关性强度和方向
   - 统计显著性评估

3. 主要关系识别：
   - 最强正相关关系
   - 最强负相关关系
   - 意外或反直觉的相关性

4. 因果关系探讨：
   - 相关性vs因果关系的区分
   - 可能的因果机制分析
   - 混淆变量的识别

5. 多变量关系：
   - 变量群组或集群
   - 条件相关性分析
   - 交互效应识别

6. 相关性可视化建议：
   - 最适合展示相关关系的图表
   - 关键相关性的可视化重点

7. 业务洞察和建议：
   - 相关性的业务含义
   - 可利用的相关关系
   - 需要进一步研究的关系

请确保分析既有统计严谨性，又有实际应用价值。对于每个发现的相关关系，请提供数据支持和合理解释，同时避免过度解读相关性。

数据：
{{data}}
`;

/**
 * 分类和聚类分析提示词
 * 专注于对数据进行分类和聚类分析
 */
export const clusteringAnalysisPrompt = `
作为一位分类和聚类分析专家，请对以下数据进行分组和模式识别分析。

请提供以下分析：

1. 数据特征概览：
   - 数据的维度和特征
   - 可用于分类/聚类的关键变量
   - 数据预处理建议

2. 自然分组识别：
   - 数据中的明显分组或集群
   - 各组的大小和分布
   - 组间差异和组内相似性

3. 聚类特征分析：
   - 每个聚类的典型特征
   - 聚类中心点或代表性样本
   - 聚类边界和重叠区域

4. 分类规则提取：
   - 区分不同组的决策规则
   - 分类的准确性和可靠性
   - 误分类的可能原因

5. 异常组或离群值：
   - 不符合主要分组模式的数据点
   - 特殊组的特征和意义

6. 业务应用洞察：
   - 各分组的业务含义
   - 分组信息的应用价值
   - 基于分组的策略建议

7. 可视化和解释建议：
   - 最适合展示分组的可视化方法
   - 如何向非技术人员解释分组结果

请确保分析既有技术深度，又有实际应用价值。对于识别的每个分组，请提供明确的特征描述和潜在的业务意义。

数据：
{{data}}
`;

/**
 * 创建自定义提示词
 * @param data 要分析的数据
 * @param template 提示词模板
 * @returns 填充了数据的提示词
 */
export const createPrompt = (data: any, template: string): string => {
  return template.replace('{{data}}', JSON.stringify(data, null, 2));
};