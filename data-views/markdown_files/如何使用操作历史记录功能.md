# 如何使用操作历史记录功能

## 功能位置

操作历史记录和撤销/重做功能已经集成到应用中，但只在特定页面显示：

### 1. 仪表板页面 (Dashboard)
- **访问路径**: 点击左侧导航栏的「仪表板」或访问 `http://localhost:5173/dashboard`
- **功能位置**: 页面右上角的工具栏中
- **可用操作**: 撤销、重做、查看历史记录

### 2. 图表创建/编辑页面 (ChartCreator)
- **访问路径**: 
  - 创建新图表: 点击左侧导航栏的「创建图表」或访问 `http://localhost:5173/create`
  - 编辑现有图表: 在仪表板页面点击图表的「编辑」按钮
- **功能位置**: 图表预览区域的右上角
- **可用操作**: 撤销、重做、查看历史记录

## 使用步骤

### 第一步：导航到支持历史记录的页面
1. 启动应用后，默认显示首页
2. 点击左侧导航栏的「仪表板」进入仪表板页面
3. 或者点击「创建图表」进入图表创建页面

### 第二步：查看历史记录控件
在仪表板或图表创建页面，你会在页面右上角看到三个按钮：
- 🔄 **撤销按钮**: 撤销上一个操作
- ↩️ **重做按钮**: 重做已撤销的操作  
- 📋 **历史记录按钮**: 查看完整的操作历史

### 第三步：执行一些操作来测试功能

#### 在仪表板页面:
1. 点击图表的「编辑」按钮修改图表
2. 返回仪表板后，可以看到历史记录中记录了操作
3. 使用撤销/重做按钮来回退或重新执行操作

#### 在图表创建页面:
1. 修改图表标题
2. 更改图表类型
3. 调整图表样式
4. 保存图表
5. 每个操作都会被记录到历史中

### 第四步：查看和管理历史记录
1. 点击历史记录按钮（📋）打开历史面板
2. 查看所有操作的时间戳和描述
3. 使用「清空」按钮清除所有历史记录

## 支持的操作类型

历史记录系统会自动记录以下操作：

### 图表操作
- ✅ 添加图表
- ✅ 删除图表  
- ✅ 更新图表（标题、类型、样式等）

### 仪表板操作
- ✅ 添加仪表板
- ✅ 删除仪表板
- ✅ 更新仪表板
- ✅ 添加图表到仪表板
- ✅ 从仪表板移除图表

### 数据集操作
- ✅ 添加数据集
- ✅ 删除数据集

### 主题操作
- ✅ 更改应用主题

## 注意事项

1. **页面限制**: 历史记录功能只在仪表板和图表创建/编辑页面可见
2. **数据持久化**: 历史记录会在浏览器会话中保持，但刷新页面后会重置
3. **操作限制**: 最多保存50条历史记录，超出后会自动删除最旧的记录
4. **按钮状态**: 当没有可撤销或重做的操作时，对应按钮会被禁用

## 快速测试指南

如果你想快速测试历史记录功能：

1. **访问仪表板**: `http://localhost:5173/dashboard`
2. **查看右上角**: 应该能看到三个历史记录控制按钮
3. **点击编辑图表**: 修改现有图表来生成历史记录
4. **测试撤销/重做**: 使用按钮来回退和重新执行操作
5. **查看历史面板**: 点击历史记录按钮查看操作列表

## 故障排除

如果看不到历史记录按钮：
1. 确认你在正确的页面（仪表板或图表创建页面）
2. 检查页面右上角或图表预览区域的右上角
3. 确保应用正在正常运行
4. 尝试刷新页面

如果历史记录功能不工作：
1. 打开浏览器开发者工具查看控制台错误
2. 确认执行了会被记录的操作（如修改图表、更改主题等）
3. 检查按钮是否被正确启用/禁用

---

**提示**: 历史记录功能是为了提升用户体验而设计的，让你可以安全地尝试各种操作而不用担心丢失之前的工作。